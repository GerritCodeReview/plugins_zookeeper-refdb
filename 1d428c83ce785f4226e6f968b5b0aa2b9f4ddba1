{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ce8fad8d_2d25cfec",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkInit.java",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-03-08T16:58:15Z",
      "side": 1,
      "message": "In which case we wouldn\u0027t have a global-refdb configuration? If this shouldn\u0027t happen should we try an exception and make the error more evident?",
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efeab98c_83f9654e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkInit.java",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-09T00:10:10Z",
      "side": 1,
      "message": "I am not really sure about that. You could have installed the plugin but started using it yet.",
      "parentUuid": "ce8fad8d_2d25cfec",
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee001bf6_d047404e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkInit.java",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-03-09T08:16:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "efeab98c_83f9654e",
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc0068a3_52093ac1",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkInit.java",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-03-08T16:58:15Z",
      "side": 1,
      "message": "Is it worthy logging this?",
      "range": {
        "startLine": 80,
        "startChar": 6,
        "endLine": 80,
        "endChar": 79
      },
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40afd244_6041bdd8",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkInit.java",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-09T00:10:10Z",
      "side": 1,
      "message": "We could, but then we\u0027ll give warnings for new sites, which could be misleading.",
      "parentUuid": "dc0068a3_52093ac1",
      "range": {
        "startLine": 80,
        "startChar": 6,
        "endLine": 80,
        "endChar": 79
      },
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a42669b0_a5dff138",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkInit.java",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-03-09T08:16:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "40afd244_6041bdd8",
      "range": {
        "startLine": 80,
        "startChar": 6,
        "endLine": 80,
        "endChar": 79
      },
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4cbff023_f663936d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/migration/ZkMigrations.java",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-03-08T16:58:15Z",
      "side": 1,
      "message": "What about checking here if currentVersion \u003d\u003d LATEST and just return? This way we can get rid of the logic to check if we have already printed the header or not (line #49):\n\nif (currentVersion \u003d\u003d LATEST) {\n    ui.header(\"%s migration, nothing to do\", pluginName);\n    return;\n}",
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36ee4483_5556cdda",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/migration/ZkMigrations.java",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-09T00:10:10Z",
      "side": 1,
      "message": "Not really, as you could be NOT on the latest version but still do not require any migration, hence the header should not be displayed.",
      "parentUuid": "4cbff023_f663936d",
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ab0815e_aefb9286",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/migration/ZkMigrations.java",
        "patchSetId": 7
      },
      "lineNbr": 44,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-10T08:15:28Z",
      "side": 1,
      "message": "I still do not understand one thing here, if the current version is 100, should we start migrations from 101. In this loop we will start from 100, so we will run one extra migration for the current version",
      "range": {
        "startLine": 44,
        "startChar": 4,
        "endLine": 44,
        "endChar": 70
      },
      "revId": "1d428c83ce785f4226e6f968b5b0aa2b9f4ddba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}